function removeHighlighting(e){e.each((function(){var e=$(this);e.replaceWith(e.html())}))}function addHighlighting(e,t){var l="<em>"+t+"</em>",n=e.text().replace(t,l);e.html(n)}function getValue(){return $("#opt :selected").val()}function sortTableByColumn(e,t,l=!0){const n=l?1:-1,a=e.tBodies[0],r=Array.from(a.querySelectorAll("tr")).sort(((e,l)=>e.querySelector(`td:nth-child(${t+1})`).textContent.trim()>l.querySelector(`td:nth-child(${t+1})`).textContent.trim()?1*n:-1*n));for(;a.firstChild;)a.removeChild(a.firstChild);a.append(...r),e.querySelectorAll("th").forEach((e=>e.classList.remove("th-sort-asc","th-sort-desc"))),e.querySelector(`th:nth-child(${t+1})`).classList.toggle("th-sort-asc",l),e.querySelector(`th:nth-child(${t+1})`).classList.toggle("th-sort-desc",!l)}function displayPage(e){let t=document.querySelectorAll("table tr"),l=document.querySelectorAll("table tr").length,n=100*(e-1),a=l<=100*e-1?l:100*e-1;for(let e=0;e<=l;e++){if(null==t[e])return;t[e].style.display=n<=e&&e<=a||0==e?"":"none"}}function pagination(){let e=document.querySelectorAll("table tr").length,t=e%100==0?e/100:e/100+1,l=document.getElementById("page-numbers");for(let e=1;e<=t;e++){let t=document.createElement("div");t.classList.add("page"),t.innerText=e,l.appendChild(t)}}function getPage(){let e=document.getElementsByClassName("page");for(let t=0;t<e.length;t++)e[t].addEventListener("click",displayPage.bind(this,t+1))}$("#search").on("keyup",(function(){var value=$(this).val(),searchval=getValue();console.log(searchval),$("table tr").each((function(index){if(0!=index){$row=$(this);var $tdElement=$row.find(`td:nth-child(${eval(searchval+"+1")}`);console.log("val",`${eval(searchval+"+1")}`);var id=$tdElement.text(),matchedIndex=id.indexOf(value);matchedIndex<0?$row.hide():(addHighlighting($tdElement,value),$row.show())}}))})),document.querySelectorAll(".table-sortable th").forEach((e=>{e.addEventListener("click",(()=>{sortTableByColumn(e.parentElement.parentElement.parentElement,Array.prototype.indexOf.call(e.parentElement.children,e),!e.classList.contains("th-sort-asc"))}))})),pagination(),getPage(),window.onload=displayPage(1);